


<div class="table-page">
  <div id="container">
    <app-tableform *ngIf="isCreatingTable" (refreshTablesAfterSubmit)="showTables()" [restaurantId]="restaurantId" ></app-tableform>
    <div id="table">
      <h3>Tables:</h3>
      <div *ngIf="isLoading ; else tableBloc">
        <i class="loader"></i>
      </div>
      <ng-template #tableBloc>
        <div  id="table-bloc" >
          <div class="table-row"*ngFor = "let table of restaurantTables"><span class="bold">{{table.name}}</span>: {{table.capacity}} places</div>
        </div>
      </ng-template>
    </div>
  </div>
</div>



  <div class="bookings">
  <app-select-booking (onDateSelection)="onDateSelected($event)"></app-select-booking>
  <h4>Bookings:</h4>
  <table>
    <thead>
      <tr>
        <th >
          table
        </th>
        <th >
          Date
        </th>
        <th >
          Hour
        </th>
      </tr>
    </thead>
    <tbody  >
      <tr *ngFor = "let booking of todaysBookings" >
        <td >
          {{booking.table.name}}
        </td>
        <td >
          {{booking.day.substring(0,10)}}
        </td>
        <td >
          {{booking.hour}}
        </td>
        <td class="ordered-style" [ngStyle]="{'background-color':booking.served=== 'true' ? 'green' : 'red'}">
          <app-order-status [user] = "user" [booking] = "booking"></app-order-status>  
        </td>

      </tr>
    </tbody>
  </table>
  </div>



